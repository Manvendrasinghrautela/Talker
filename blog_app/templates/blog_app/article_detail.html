{% extends 'blog_app/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog_app/article_detail.css' %}">
{% endblock %}

{% block content %}
<div class="ad-card">
  <!-- 1st image at top center -->
  {% if post.image %}
  <div class="ad-mainimg top-center">
    <img src="{{ post.image.url }}" alt="{{ post.title }}">
  </div>
  {% endif %}
  
  <!-- Article text content -->
  <div class="ad-content">
    {{ post.content|safe }}
  </div>

  <!-- 2nd and 3rd images at bottom right and left -->
  <div class="bottom-images">
    {% with additional_images=post.additional_images.all %}
      {% if additional_images.count > 0 %}
      <div class="image-right">
        <img src="{{ additional_images.0.image.url }}" alt="Second image for {{ post.title }}">
      </div>
      {% endif %}
      
      {% if additional_images.count > 1 %}
      <div class="image-left">
        <img src="{{ additional_images.1.image.url }}" alt="Third image for {{ post.title }}">
      </div>
      {% endif %}
    {% endwith %}
  </div>
  
  <!-- Related posts as before -->
  <div class="ad-related">
    <h3>Related Posts</h3>
    <div class="ad-related-row">
      {% for related_post in related_posts %}
      <a href="{% url 'post_detail' related_post.pk %}" class="related-link">
        <img src="{{ related_post.image.url }}" alt="{{ related_post.title }}">
        <div class="related-title">{{ related_post.title }}</div>
      </a>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
